sar_function setmap "svar_set chapter $1; svar_set course $1; svar_set map $2; svar_set builtin_map 1"

svar_set builtin_map 0
svar_set chapter 0
svar_set course 0
svar_set chapter_name unknown
svar_set course_name unknown
svar_set map unknown
svar_set role unknown

cond "!coop" svar_set role sp
cond "coop & orange"  svar_set role orange
cond "coop & !orange" svar_set role blue

cond map=sp_a5_credits    setmap 0 credits
cond map=credits          setmap 0 credits
cond map=credits_museum   setmap 0 credits-museum
cond map=celeste_moonroom setmap 0 celeste-moonroom

cond map=sp_a1_intro1  setmap 1 container-ride
cond map=sp_a1_intro2  setmap 1 portal-carousel
cond map=sp_a1_intro3  setmap 1 portal-gun
cond map=sp_a1_intro4  setmap 1 smooth-jazz
cond map=sp_a1_intro5  setmap 1 cube-momentum
cond map=sp_a1_intro6  setmap 1 future-starter
cond map=sp_a1_intro7  setmap 1 secret-panel
cond map=sp_a1_wakeup  setmap 1 wakeup
cond map=sp_a2_intro   setmap 1 incinerator

cond map=sp_a2_laser_intro     setmap 2 laser-intro
cond map=sp_a2_laser_stairs    setmap 2 laser-stairs
cond map=sp_a2_dual_lasers     setmap 2 dual-lasers
cond map=sp_a2_laser_over_goo  setmap 2 laser-over-goo
cond map=sp_a2_catapult_intro  setmap 2 catapult-intro
cond map=sp_a2_trust_fling     setmap 2 trust-fling
cond map=sp_a2_pit_flings      setmap 2 pit-flings
cond map=sp_a2_fizzler_intro   setmap 2 fizzler-intro

cond map=sp_a2_sphere_peek      setmap 3 ceiling-catapult
cond map=sp_a2_ricochet         setmap 3 ricochet
cond map=sp_a2_bridge_intro     setmap 3 bridge-intro
cond map=sp_a2_bridge_the_gap   setmap 3 bridge-the-gap
cond map=sp_a2_turret_intro     setmap 3 turret-intro
cond map=sp_a2_laser_relays     setmap 3 laser-relays
cond map=sp_a2_turret_blocker   setmap 3 turret-blocker
cond map=sp_a2_laser_vs_turret  setmap 3 laser-vs-turret
cond map=sp_a2_pull_the_rug     setmap 3 pull-the-rug

cond map=sp_a2_column_blocker  setmap 4 column-blocker
cond map=sp_a2_laser_chaining  setmap 4 laser-chaining
cond map=sp_a2_triple_laser    setmap 4 triple-laser
cond map=sp_a2_bts1            setmap 4 jailbreak
cond map=sp_a2_bts2            setmap 4 escape

cond map=sp_a2_bts3  setmap 5 turret-factory
cond map=sp_a2_bts4  setmap 5 turret-sabotage
cond map=sp_a2_bts5  setmap 5 neurotoxin-sabotage
cond map=sp_a2_bts6  setmap 5 tube-ride
cond map=sp_a2_core  setmap 5 core

cond map=sp_a3_00            setmap 6 long-fall
cond map=sp_a3_01            setmap 6 underground
cond map=sp_a3_03            setmap 6 cave-johnson
cond map=sp_a3_jump_intro    setmap 6 repulsion-intro
cond map=sp_a3_bomb_flings   setmap 6 bomb-flings
cond map=sp_a3_crazy_box     setmap 6 crazy-box
cond map=sp_a3_transition01  setmap 6 potatos

cond map=sp_a3_speed_ramp    setmap 7 propulsion-intro
cond map=sp_a3_speed_flings  setmap 7 propulsion-flings
cond map=sp_a3_portal_intro  setmap 7 conversion-intro
cond map=sp_a3_end           setmap 7 three-gels

cond map=sp_a4_intro           setmap 8 test
cond map=sp_a4_tb_intro        setmap 8 funnel-intro
cond map=sp_a4_tb_trust_drop   setmap 8 ceiling-button
cond map=sp_a4_tb_wall_button  setmap 8 wall-button
cond map=sp_a4_tb_polarity     setmap 8 polarity
cond map=sp_a4_tb_catch        setmap 8 funnel-catch
cond map=sp_a4_stop_the_box    setmap 8 stop-the-box 
cond map=sp_a4_laser_catapult  setmap 8 laser-catapult
cond map=sp_a4_laser_platform  setmap 8 laser-platform
cond map=sp_a4_speed_tb_catch  setmap 8 propulsion-catch
cond map=sp_a4_jump_polarity   setmap 8 repulsion-polarity

cond map=sp_a4_finale1  setmap 9 finale-1
cond map=sp_a4_finale2  setmap 9 finale-2
cond map=sp_a4_finale3  setmap 9 finale-3
cond map=sp_a4_finale4  setmap 9 finale-4

cond map=mp_coop_start    setmap 0 calibration
cond map=mp_coop_lobby_3  setmap 0 lobby

cond map=mp_coop_doors          setmap 1 doors
cond map=mp_coop_race_2         setmap 1 buttons
cond map=mp_coop_laser_2        setmap 1 lasers
cond map=mp_coop_rat_maze       setmap 1 rat-maze
cond map=mp_coop_laser_crusher  setmap 1 laser-crusher
cond map=mp_coop_teambts        setmap 1 behind-the-scenes

cond map=mp_coop_fling_3            setmap 2 flings
cond map=mp_coop_infinifling_train  setmap 2 infinifling
cond map=mp_coop_come_along         setmap 2 team-retrieval
cond map=mp_coop_fling_1            setmap 2 vertical-flings
cond map=mp_coop_catapult_1         setmap 2 catapults
cond map=mp_coop_multifling_1       setmap 2 multifling
cond map=mp_coop_fling_crushers     setmap 2 fling-crushers
cond map=mp_coop_fan                setmap 2 industrial-fan

cond map=mp_coop_wall_intro           setmap 3 cooperative-bridges
cond map=mp_coop_wall_2               setmap 3 bridge-swap
cond map=mp_coop_catapult_wall_intro  setmap 3 fling-block
cond map=mp_coop_wall_block           setmap 3 catapult-block
cond map=mp_coop_catapult_2           setmap 3 bridge-fling
cond map=mp_coop_turret_walls         setmap 3 turret-walls
cond map=mp_coop_turret_ball          setmap 3 turret-assassin
cond map=mp_coop_wall_5               setmap 3 bridge-testing

cond map=mp_coop_tbeam_redirect       setmap 4 cooperative-funnels
cond map=mp_coop_tbeam_drill          setmap 4 funnel-drill
cond map=mp_coop_tbeam_catch_grind_1  setmap 4 funnel-catch
cond map=mp_coop_tbeam_laser_1        setmap 4 funnel-laser
cond map=mp_coop_tbeam_polarity       setmap 4 cooperative-polarity
cond map=mp_coop_tbeam_polarity2      setmap 4 funnel-hop
cond map=mp_coop_tbeam_polarity3      setmap 4 advanced-polarity
cond map=mp_coop_tbeam_maze           setmap 4 funnel-maze
cond map=mp_coop_tbeam_end            setmap 4 turret-warehouse

cond map=mp_coop_paint_come_along      setmap 5 repulsion-jumps
cond map=mp_coop_paint_redirect        setmap 5 double-bounce
cond map=mp_coop_paint_bridge          setmap 5 bridge-repulsion
cond map=mp_coop_paint_walljumps       setmap 5 wall-repulsion
cond map=mp_coop_paint_speed_fling     setmap 5 propulsion-crushers
cond map=mp_coop_paint_red_racer       setmap 5 turret-ninja
cond map=mp_coop_paint_speed_catch     setmap 5 propulsion-retrieval
cond map=mp_coop_paint_longjump_intro  setmap 5 vault-entrance

cond map=mp_coop_separation_1      setmap 6 separation
cond map=mp_coop_tripleaxis        setmap 6 triple-axis
cond map=mp_coop_catapult_catch    setmap 6 catapult-catch
cond map=mp_coop_2paints_1bridge   setmap 6 bridge-gels
cond map=mp_coop_paint_conversion  setmap 6 maintenance
cond map=mp_coop_bridge_catch      setmap 6 bridge-catch
cond map=mp_coop_laser_tbeam       setmap 6 double-lift
cond map=mp_coop_paint_rat_maze    setmap 6 gel-maze
cond map=mp_coop_paint_crazy_box   setmap 6 crazier-box

cond "!coop & var:chapter=1" svar_set chapter_name the-courtesy-call
cond "!coop & var:chapter=2" svar_set chapter_name the-cold-boot
cond "!coop & var:chapter=3" svar_set chapter_name the-return
cond "!coop & var:chapter=4" svar_set chapter_name the-surprise
cond "!coop & var:chapter=5" svar_set chapter_name the-escape
cond "!coop & var:chapter=6" svar_set chapter_name the-fall
cond "!coop & var:chapter=7" svar_set chapter_name the-reunion
cond "!coop & var:chapter=8" svar_set chapter_name the-itch
cond "!coop & var:chapter=9" svar_set chapter_name the-part-where-he-kills-you

cond "coop & var:chapter=1" svar_set chapter_name team-building
cond "coop & var:chapter=2" svar_set chapter_name mass-and-velocity
cond "coop & var:chapter=3" svar_set chapter_name hard-light-surfaces
cond "coop & var:chapter=4" svar_set chapter_name excursion-funnels
cond "coop & var:chapter=5" svar_set chapter_name mobility-gels
cond "coop & var:chapter=6" svar_set chapter_name art-therapy

sar_expand svar_set course_name $chapter_name

cond "coop"  sar_expand svar_set chapter_course "course$chapter"
cond "!coop" sar_expand svar_set chapter_course "chapter$chapter"
